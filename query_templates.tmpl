{{define "perfum_info_base"}}SELECT parfum_info.id AS info_id, parfum_info.uuid AS info_uuid, parfum_info.{{.PerfumInfo}} AS name, parfum_info.year AS info_year, descriptions.uuid AS description_uuid, descriptions.{{.PerfumsDescription}} AS description, brands.uuid AS brand_uuid, brands.{{.BrandsName}} AS brand_name, gender.uuid AS gender_uuid, gender.{{.GenderName}} AS gender_name, groups.uuid AS group_uuid, groups.{{.GroupsName}} AS group_name, countries.uuid AS country_uuid, countries.{{.CountriesName}} AS country_name, seasons.uuid AS season_uuid, seasons.{{.SeasonsName}} AS season_name, times_of_day.uuid AS tsod_uuid, times_of_day.{{.TsodName}} AS tsod_name, types.uuid AS type_uuid, types.{{.TypesName}} AS type_name, images.uuid AS img_uuid, stars.uuid AS stars_uuid, shops.uuid AS shop_uuid FROM parfum_info LEFT JOIN descriptions ON parfum_info.description_id=descriptions.id LEFT JOIN brands ON parfum_info.brand_id=brands.id LEFT JOIN gender ON parfum_info.gender_id=gender.id LEFT JOIN groups ON parfum_info.group_id=groups.id LEFT JOIN countries ON parfum_info.country_id=countries.id LEFT JOIN types ON parfum_info.type_id=types.id LEFT JOIN seasons ON parfum_info.season_id=seasons.id LEFT JOIN times_of_day ON parfum_info.tsod_id=times_of_day.id LEFT JOIN shops ON parfum_info.shop_id=shops.id LEFT JOIN images ON parfum_info.image_id=images.id LEFT JOIN stars ON parfum_info.stars_id=stars.id {{if ne .AuxConditionString ""}} {{.AuxConditionString}} {{end}}{{if (or (ne .WhereConditionString "") (ne .AndConditionString ""))}} WHERE {{end}}{{if ne .WhereConditionString ""}}({{.WhereConditionString}}){{end}}{{if (and (ne .WhereConditionString "") (ne .AndConditionString ""))}} AND {{end}}{{if ne .AndConditionString ""}}({{.AndConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "condition_select_id_eq_uuid"}}{{.ConditionTableField}}=(SELECT {{.ConditionTableName}}.id FROM {{.ConditionTableName}} WHERE ({{.ConditionUuid}})){{end}}

{{define "condition_innerjoin_component_uuid"}}INNER JOIN (SELECT parfum_info.uuid AS info_uuid FROM (SELECT DISTINCT parfum_info_id FROM parfums WHERE component_id=(SELECT id FROM components {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}})) AS parfum_ids INNER JOIN parfum_info ON parfum_ids.parfum_info_id=parfum_info.id) AS perfums_component ON parfum_info.uuid=perfums_component.info_uuid {{if ne .AndConditionString ""}} AND ({{.AndConditionString}}){{end}} {{end}}

{{define "condition_innerjoin_note_uuid"}}INNER JOIN (SELECT parfum_info.uuid AS info_uuid FROM (SELECT DISTINCT parfum_info_id FROM parfums WHERE note_id=(SELECT id FROM notes {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}})) AS parfum_ids INNER JOIN parfum_info ON parfum_ids.parfum_info_id=parfum_info.id) AS perfums_note ON parfum_info.uuid=perfums_note.info_uuid {{if ne .AndConditionString ""}} AND ({{.AndConditionString}}){{end}} {{end}}

{{define "select_brands"}}SELECT brands.id, brands.{{.BrandsName}} AS name, brands.uuid AS brand_uuid, images.uuid AS img_uuid FROM brands LEFT OUTER JOIN images ON brands.image_id=images.id {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_components"}}SELECT components.id, components.{{.ComponentsName}} AS name, components.uuid AS component_uuid, images.uuid AS img_uuid FROM components LEFT OUTER JOIN images ON components.image_id=images.id {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_countries"}}SELECT countries.id, countries.{{.CountriesName}} AS name, countries.uuid AS country_uuid, images.uuid AS img_uuid FROM countries LEFT OUTER JOIN images ON countries.image_id=images.id {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_gender"}}SELECT gender.id, gender.{{.GenderName}} AS name, gender.uuid AS gender_uuid, images.uuid AS img_uuid FROM gender LEFT OUTER JOIN images ON gender.image_id=images.id {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}} {{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_groups"}}SELECT groups.id, groups.{{.GroupsName}} AS name, groups.uuid AS group_uuid FROM groups {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_notes"}}SELECT notes.id, notes.{{.NotesName}} AS name, notes.uuid AS note_uuid FROM notes {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_seasons"}}SELECT seasons.id, seasons.{{.SeasonsName}} AS name, seasons.uuid AS season_uuid FROM seasons {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_timeofday"}}SELECT times_of_day.id, times_of_day.{{.TsodName}} AS name, times_of_day.uuid AS tsod_uuid FROM times_of_day {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_types"}}SELECT types.id, types.{{.TypesName}} AS name, types.uuid AS type_uuid FROM types {{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "select_perfums_on_perfum_info_uuid"}}SELECT parfums.id AS perfum_id, parfums.uuid AS perfum_uuid, notes.uuid AS note_uuid, notes.{{.NotesName}} AS note_name, components.uuid AS component_uuid, components.{{.ComponentsName}} AS component_name, perfum_info.info_uuid FROM parfums INNER JOIN notes ON parfums.note_id=notes.id INNER JOIN components ON parfums.component_id=components.id INNER JOIN (SELECT parfum_info.id, parfum_info.uuid AS info_uuid FROM parfum_info {{if (or (ne .WhereConditionString "") (ne .AndConditionString ""))}} WHERE {{end}}{{if ne .WhereConditionString ""}}({{.WhereConditionString}}){{end}}{{if (and (ne .WhereConditionString "") (ne .AndConditionString ""))}} AND {{end}}{{if ne .AndConditionString ""}}({{.AndConditionString}}){{end}}) AS perfum_info ON parfums.parfum_info_id=perfum_info.id ORDER BY info_uuid ASC, note_name ASC, component_name ASC{{end}}

{{define "select_count"}}SELECT COUNT({{if ne .DistinctTableField ""}}DISTINCT({{.DistinctTableField}}){{else}}*{{end}}) FROM {{.FromTableName}}{{if ne .WhereConditionString ""}} WHERE ({{.WhereConditionString}}){{end}}{{end}}

{{define "perfum_info_search"}}SELECT parfum_info.uuid AS info_uuid FROM parfum_info {{if (or (ne .DescUid "") (ne .Desc ""))}} LEFT JOIN descriptions ON parfum_info.description_id=descriptions.id{{end}}{{if (or (ne .BrandUid "") (ne .Brand ""))}} LEFT JOIN brands ON parfum_info.brand_id=brands.id{{end}}{{if (or (ne .GenderUid "") (ne .Gender ""))}} LEFT JOIN gender ON parfum_info.gender_id=gender.id{{end}}{{if (or (ne .GroupUid "") (ne .Group ""))}} LEFT JOIN groups ON parfum_info.group_id=groups.id{{end}}{{if (or (ne .CountryUid "") (ne .Country ""))}} LEFT JOIN countries ON parfum_info.country_id=countries.id{{end}}{{if (or (ne .SeasonUid "") (ne .Season ""))}} LEFT JOIN seasons ON parfum_info.season_id=seasons.id{{end}}{{if (or (ne .TsodUid "") (ne .Tsod ""))}} LEFT JOIN times_of_day ON parfum_info.tsod_id=times_of_day.id{{end}}{{if (or (ne .TypeUid "") (ne .Type ""))}} LEFT JOIN types ON parfum_info.type_id=types.id{{end}}{{if GetWhereIsUsed}}{{$_ := SetWhereIsUsed false }}{{end}}{{if ne .InfoUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.InfoUid}}){{end}}{{if ne .Name ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ :=  SetWhereIsUsed true }}{{else}} AND {{end}}({{.Name}}){{end}}{{if ne .YearFrom ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearFrom}}){{end}}{{if ne .YearTo ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearTo}}){{end}}{{if ne .DescUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.DescUid}}){{end}}{{if ne .Desc ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Desc}}){{end}}{{if ne .BrandUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.BrandUid}}){{end}}{{if ne .Brand ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Brand}}){{end}}{{if ne .GenderUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GenderUid}}){{end}}{{if ne .Gender ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Gender}}){{end}}{{if ne .GroupUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GroupUid}}){{end}}{{if ne .Group ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Group}}){{end}}{{if ne .CountryUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.CountryUid}}){{end}}{{if ne .Country ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Country}}){{end}}{{if ne .SeasonUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.SeasonUid}}){{end}}{{if ne .Season ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Season}}){{end}}{{if ne .TsodUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TsodUid}}){{end}}{{if ne .Tsod ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Tsod}}){{end}}{{if ne .TypeUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TypeUid}}){{end}}{{if ne .Type ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Type}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC{{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "perfum_search"}}SELECT DISTINCT perfum_info.info_uuid FROM parfums{{if (or (ne .NoteUid "") (ne .Note ""))}} INNER JOIN notes ON parfums.note_id=notes.id{{end}}{{if (or (ne .ComponentUid "") (ne .Component ""))}} INNER JOIN components ON parfums.component_id=components.id{{end}} INNER JOIN (SELECT parfum_info.id, parfum_info.uuid AS info_uuid FROM parfum_info {{if (or (ne .DescUid "") (ne .Desc ""))}} LEFT JOIN descriptions ON parfum_info.description_id=descriptions.id{{end}}{{if (or (ne .BrandUid "") (ne .Brand ""))}} LEFT JOIN brands ON parfum_info.brand_id=brands.id{{end}}{{if (or (ne .GenderUid "") (ne .Gender ""))}} LEFT JOIN gender ON parfum_info.gender_id=gender.id{{end}}{{if (or (ne .GroupUid "") (ne .Group ""))}} LEFT JOIN groups ON parfum_info.group_id=groups.id{{end}}{{if (or (ne .CountryUid "") (ne .Country ""))}} LEFT JOIN countries ON parfum_info.country_id=countries.id{{end}}{{if (or (ne .SeasonUid "") (ne .Season ""))}} LEFT JOIN seasons ON parfum_info.season_id=seasons.id{{end}}{{if (or (ne .TsodUid "") (ne .Tsod ""))}} LEFT JOIN times_of_day ON parfum_info.tsod_id=times_of_day.id{{end}}{{if (or (ne .TypeUid "") (ne .Type ""))}} LEFT JOIN types ON parfum_info.type_id=types.id{{end}}{{if GetWhereIsUsed}}{{$_ := SetWhereIsUsed false }}{{end}}{{if ne .InfoUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.InfoUid}}){{end}}{{if ne .Name ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ :=  SetWhereIsUsed true }}{{else}} AND {{end}}({{.Name}}){{end}}{{if ne .YearFrom ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearFrom}}){{end}}{{if ne .YearTo ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearTo}}){{end}}{{if ne .DescUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.DescUid}}){{end}}{{if ne .Desc ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Desc}}){{end}}{{if ne .BrandUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.BrandUid}}){{end}}{{if ne .Brand ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Brand}}){{end}}{{if ne .GenderUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GenderUid}}){{end}}{{if ne .Gender ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Gender}}){{end}}{{if ne .GroupUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GroupUid}}){{end}}{{if ne .Group ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Group}}){{end}}{{if ne .CountryUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.CountryUid}}){{end}}{{if ne .Country ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Country}}){{end}}{{if ne .SeasonUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.SeasonUid}}){{end}}{{if ne .Season ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Season}}){{end}}{{if ne .TsodUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TsodUid}}){{end}}{{if ne .Tsod ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Tsod}}){{end}}{{if ne .TypeUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TypeUid}}){{end}}{{if ne .Type ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Type}}){{end}}) AS perfum_info ON parfums.parfum_info_id=perfum_info.id {{if GetWhereIsUsed}}{{$_ := SetWhereIsUsed false }}{{end}}{{if ne .NoteUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.NoteUid}}){{end}}{{if ne .Note ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ :=  SetWhereIsUsed true }}{{else}} AND {{end}}({{.Note}}){{end}}{{if ne .ComponentUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.ComponentUid}}){{end}}{{if ne .Component ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Component}}){{end}}{{if ne .PerfumUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.PerfumUid}}){{end}}{{if ne .Order ""}} ORDER BY {{.Order}} ASC {{end}}{{if ne .Offset ""}} OFFSET {{.Offset}}{{end}}{{if ne .Limit ""}} LIMIT {{.Limit}}{{end}}{{end}}

{{define "perfum_search_count"}}SELECT COUNT(DISTINCT(perfum_info.info_uuid)) FROM parfums{{if (or (ne .NoteUid "") (ne .Note ""))}} INNER JOIN notes ON parfums.note_id=notes.id{{end}}{{if (or (ne .ComponentUid "") (ne .Component ""))}} INNER JOIN components ON parfums.component_id=components.id{{end}} INNER JOIN (SELECT parfum_info.id, parfum_info.uuid AS info_uuid FROM parfum_info {{if (or (ne .DescUid "") (ne .Desc ""))}} LEFT JOIN descriptions ON parfum_info.description_id=descriptions.id{{end}}{{if (or (ne .BrandUid "") (ne .Brand ""))}} LEFT JOIN brands ON parfum_info.brand_id=brands.id{{end}}{{if (or (ne .GenderUid "") (ne .Gender ""))}} LEFT JOIN gender ON parfum_info.gender_id=gender.id{{end}}{{if (or (ne .GroupUid "") (ne .Group ""))}} LEFT JOIN groups ON parfum_info.group_id=groups.id{{end}}{{if (or (ne .CountryUid "") (ne .Country ""))}} LEFT JOIN countries ON parfum_info.country_id=countries.id{{end}}{{if (or (ne .SeasonUid "") (ne .Season ""))}} LEFT JOIN seasons ON parfum_info.season_id=seasons.id{{end}}{{if (or (ne .TsodUid "") (ne .Tsod ""))}} LEFT JOIN times_of_day ON parfum_info.tsod_id=times_of_day.id{{end}}{{if (or (ne .TypeUid "") (ne .Type ""))}} LEFT JOIN types ON parfum_info.type_id=types.id{{end}}{{if GetWhereIsUsed}}{{$_ := SetWhereIsUsed false }}{{end}}{{if ne .InfoUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.InfoUid}}){{end}}{{if ne .Name ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ :=  SetWhereIsUsed true }}{{else}} AND {{end}}({{.Name}}){{end}}{{if ne .YearFrom ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearFrom}}){{end}}{{if ne .YearTo ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.YearTo}}){{end}}{{if ne .DescUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.DescUid}}){{end}}{{if ne .Desc ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Desc}}){{end}}{{if ne .BrandUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.BrandUid}}){{end}}{{if ne .Brand ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Brand}}){{end}}{{if ne .GenderUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GenderUid}}){{end}}{{if ne .Gender ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Gender}}){{end}}{{if ne .GroupUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.GroupUid}}){{end}}{{if ne .Group ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Group}}){{end}}{{if ne .CountryUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.CountryUid}}){{end}}{{if ne .Country ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Country}}){{end}}{{if ne .SeasonUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.SeasonUid}}){{end}}{{if ne .Season ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Season}}){{end}}{{if ne .TsodUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TsodUid}}){{end}}{{if ne .Tsod ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Tsod}}){{end}}{{if ne .TypeUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.TypeUid}}){{end}}{{if ne .Type ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Type}}){{end}}) AS perfum_info ON parfums.parfum_info_id=perfum_info.id {{if GetWhereIsUsed}}{{$_ := SetWhereIsUsed false }}{{end}}{{if ne .NoteUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.NoteUid}}){{end}}{{if ne .Note ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ :=  SetWhereIsUsed true }}{{else}} AND {{end}}({{.Note}}){{end}}{{if ne .ComponentUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.ComponentUid}}){{end}}{{if ne .Component ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.Component}}){{end}}{{if ne .PerfumUid ""}}{{if eq GetWhereIsUsed false}} WHERE {{$_ := SetWhereIsUsed true }}{{else}} AND {{end}}({{.PerfumUid}}){{end}}{{end}}
